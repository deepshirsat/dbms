CREATE TABLE branch_master (branchid INT PRIMARY KEY, branchname VARCHAR(50) NOT NULL);
 
CREATE TABLE employee_master (
	emp_id INT PRIMARY KEY,
	firstname VARCHAR(30),
	middle VARCHAR(30),
	lastname VARCHAR(30),
	department VARCHAR(40),
	managerid INT,
	FOREIGN KEY (managerid) REFERENCES employee_master(emp_id)
);
 
INSERT INTO branch_master(branchid, branchname)
VALUES
(1, 'Head Office'),
(2, 'Mumbai Branch'),
(3, 'Delhi Branch'),
(4, 'Bangalore Branch');
 
INSERT INTO employee_master(emp_id, firstname, middle, lastname, department, managerid)
VALUES
(101, 'Aditi', 'R', 'Patil', 'IT', NULL),
(102, 'Rohan', 'K', 'Sharma', 'HR', 101),
(103, 'Neha', 'S', 'Kulkarni', 'Finance', 101),
(104, 'Arjun', 'M', 'Singh', 'IT', 101);
 
CREATE INDEX idx_emp_name
ON employee_master(firstname);
 
CREATE VIEW employee_details AS
SELECT emp_id,
       CONCAT(firstname, ' ', middle, ' ', lastname) AS full_name,
       department,
       managerid
FROM employee_master;
